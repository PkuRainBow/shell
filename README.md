shell-sohu
==========

some shell script to count different information based on the map-reduced dataset 


问题描述： 

RFM 
R含义是昨天访问的用户与之前最近一次访问的时间相隔的天数
R 取值 1、2、4、8、16、30、其它
F为频率，在过去30天中出现的次数
[0]
[1]
（1-2]
（2-4]
（4-8]
（8-16]
（16-30]
M 过去30天访问过多少
[0]
[1]
（1-2]
（2-4]
（4-8]
（8-16]
（16-30]
（30-]


解决方案描述：

MapReduce 后的信息格式可以查看 /yuanyuhui/wcms_rec_rfm/20141214/* 为例

频道    用户ID                 用户类型 用户查看的新闻条数   用户查看的所有的新闻的ID

TuiJian  07rNsU210hznbKWnNBat3T  2           7                556331724#406782486#556331757#406929184#406788596#406889527#406932675


R.sh ：统计的是以昨天的用户ID为基准的最近30天用户最近访问时间距离昨天访问的天数。
例子：
昨天用户07rNsU210hznbKWnNBat3T   访问了推荐频道，在昨天前30天的访问信息中，此用户最近一次是出现在10天前，则将其统计到对应的区间（8,16]

F.sh : 统计的是以昨天的用户ID为基准所有用户最近30天的访问的频率 （最容易解决）

M.sh : 统计的是以昨天的用户ID为基准所有用户在最近30天内查看的新闻条数信息的统计。


